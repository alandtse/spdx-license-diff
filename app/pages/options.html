<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>spdx-license-diff Options</title>
  <link rel="stylesheet" type="text/css" href="../styles/options.css">
</head>
<body>
  <form id="options">
<!-- Permission Warning Section -->
<div id="permissionWarning" class="permission-warning" style="display: none;">
  <h3>⚠️ Permission Required</h3>
  <p>The extension needs permission to access SPDX.org to download license data.</p>
  <div id="permissionInstructions"></div>
  <button id="checkPermissions" type="button">Check Permissions Again</button>
</div>

<fieldset>
  <legend><a href='https://spdx.org/licenses/'>SPDX License List</a> Options</legend>
  <div>
    <label for="updateFrequency">Check for list update interval</label>
    <input id="updateFrequency" type="number" name="updateFrequency" step="1" min="1" max ="365" value="90"
      title="Number of days before trying to update the SPDX license list from https://spdx.org. (1 is daily)" required>
    <span class="validity"></span>
  </div>
  <div>
    <table style="width:100%">
      <tr>
    <td>Loaded list:</td>
    <td>
    <div id="licenseversion"></div>
  </td></tr>
  <tr>
    <td>Last update:</td>
  <td><div id="updatestatus"></div></td>
</tr>
<tr>
    <td>Storage used:</td>
    <td><div id="storagestatus"></div></td>
  </tr>
  </table>
    <button id="update">Update List</button>
    <button id="clearstorage">Clear Storage</button>
  </div>
</fieldset>
<fieldset>
  <legend>Display Result Options</legend>
  <div>
    <label for="maxComparisons">Max results</label>
    <input id="maxComparisons" type="number" name="maxComparisons" step="1" min="0" value="10"
      title="Number of results to show. These must exceed which exceed minimum match percentage (0 is unlimited)" required>
    <span class="validity"></span>
  </div>
  <div>
    <label for="minpercentage">Minimum match percentage</label>
    <input id="minpercentage" type="number" name="minpercentage" step="0.1" min="0" max="100" value="25"
      title="Minimum percentage matches to display" required>
    <span class="validity"></span>
  </div>
  <div>
    <fieldset id="exclude">
      <legend>Exclude</legend>
    </fieldset>
  </div>
</fieldset>
<fieldset>
  <legend>Advanced Options</legend>
  <div>
    <label for="maxDifference">Maximum length difference</label>
    <input id="maxDifference" type="number" name="maxDifference" step="100" min="0" max="100000" value="1500"
      title="Maximum difference in length to attempt comparison (0 is unlimited; higher will be slower but more accurate)" required>
    <span class="validity"></span>
  </div>
  <div>
    <label for="diceCoefficient"><a href="https://en.wikipedia.org/wiki/S%C3%B8rensen%E2%80%93Dice_coefficient">Dice-Coefficient</a></label>
    <input id="diceCoefficient" type="number" name="maxDifference" step=".05" min="0" max="1.0" value="0.90"
      title="Force a comparison whenever this Dice-Coefficient value is exceeded regardless of Maximum length difference. Dice-Coefficient measures similarity based on tokens. 0 is no similarity while 1 is a complete match." required>
    <span class="validity"></span>
  </div>
  <div>
    <label for="maxWorkers">Max threads</label>
    <input id="maxWorkers" type="number" name="maxWorkers" step="1" min="1" max="20" value="10"
      title="Maximum number of worker threads to allow (higher is generally faster but dependent on hardware)" required>
    <span class="validity"></span>
  </div>
</fieldset>
</form>
  <div id="status"></div>
  <button id="reset">Default settings</button>
  <button id="save">Save</button>
  <script src="../scripts/options.js"></script>
</body>
</html>
